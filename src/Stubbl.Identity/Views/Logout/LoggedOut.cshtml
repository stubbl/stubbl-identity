@using Stubbl.Identity.Models.Logout

@model LoggedOutViewModel

@{
    ViewData["IsLoggedOut"] = true;
}

<div class="row">
    <div class="col-md-6 offset-md-3">
        <div class="page-header">
            <h1 class="mb-5 display-4">
                You are now signed out
            </h1>
        </div>

        @if (Model.PostLogoutRedirectUri != null)
        {
            <div>
                Click <a href="@Model.PostLogoutRedirectUri">here</a> to return to <span>@Model.ClientName</span>.
            </div>
        }

        @if (Model.LogoutIframeUrl != null)
        {
            <iframe width="0" height="0" src="@Model.LogoutIframeUrl"></iframe>
        }
    </div>
</div>

@section Scripts
{
    @if (Model.AutomaticRedirectAfterLogout)
    {
        <script>
            window.addEventListener("load",
                function() {
                    var a = document.querySelector("a.PostLogoutRedirectUri");

                    if (a) {
                        window.location = a.href;
                    }
                });
        </script>
    }
}